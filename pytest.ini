[pytest]
addopts = -q --maxfail=1 -m "not aws_integration and not slow and not integration"
markers =
    unit: Fast, isolated unit tests
    integration: Integration tests with multiple modules
    aws_integration: Tests that hit real AWS or require real credentials
    slow: Long-running tests to be excluded by default
    use_moto: Uses moto to mock AWS services (skips global boto3 fake)
    use_stubber: Uses botocore Stubber with real botocore client (skips global boto3 fake)
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::ResourceWarning
    ignore::UserWarning
    # Reduce botocore noisy warnings in tests
    ignore:.*Proxies are configured but urllib3 is compiled without SSL support.*:UserWarning
    ignore:.*Retrying.*:UserWarning
testpaths =
    tests

